import{gp as v,A as l,g8 as M,g9 as g,g1 as y,g5 as a,g0 as S,a6 as $,g4 as P,a5 as f,g6 as C,s as D,hF as F,gE as G,hG as T,t as H,ga as V,hH as B,gh as J,hD as K,hI as w,C as O,hE as N}from"./index.52935b46.js";import{s as Q,c as s,f as U}from"./vectorStacks.a7af424f.js";var d;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(d||(d={}));function E(t){return t?{origin:v(t.origin),direction:v(t.direction)}:{origin:l(),direction:l()}}function bt(t,e){const n=et.get();return n.origin=t,n.direction=e,n}function At(t,e=E()){return W(t.origin,t.direction,e)}function _t(t,e,n=E()){return P(n.origin,t),g(n.direction,e,t),n}function W(t,e,n=E()){return P(n.origin,t),P(n.direction,e),n}function qt(t,e){const n=M(s.get(),y(s.get(),t.direction),g(s.get(),e,t.origin));return a(n,n)}function tt(t,e,n){const o=a(t.direction,g(n,e,t.origin));return S(n,t.origin,$(n,t.direction,o)),n}function nt(){return{origin:null,direction:null}}const et=new Q(nt);function xt(t,e,n){const o=a(t,e)/a(t,t);return $(n,t,o)}function Ct(t,e){return a(t,e)/f(t)}function ot(t,e){const n=a(t,e)/(f(t)*f(e));return-C(n)}function Et(t,e,n){y(m,t),y(_,e);const o=a(m,_),r=C(o),i=M(m,m,_);return a(i,n)<0?2*Math.PI-r:r}const m=l(),_=l(),rt=D.getLogger("esri.geometry.support.sphere");function Z(){return F()}function X(t,e=Z()){return G(e,t)}function it(t,e){return T(t[0],t[1],t[2],e)}function ct(t){return t}function st(t){t[0]=t[1]=t[2]=t[3]=0}function ut(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function R(t){return t[3]}function at(t){return t}function ft(t,e,n,o){return T(t,e,n,o)}function gt(t,e,n){return t!==n&&P(n,t),n[3]=t[3]+e,n}function ht(t,e,n){return rt.error("sphere.setExtent is not yet supported"),t===n?n:X(t,n)}function b(t,e,n){if(H(e))return!1;const{origin:o,direction:r}=e,i=lt;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];const c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],u=2*(r[0]*i[0]+r[1]*i[1]+r[2]*i[2]),p=u*u-4*c*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(p<0)return!1;const j=Math.sqrt(p);let h=(-u-j)/(2*c);const A=(-u+j)/(2*c);return(h<0||A<h&&A>0)&&(h=A),!(h<0)&&(n&&(n[0]=o[0]+r[0]*h,n[1]=o[1]+r[1]*h,n[2]=o[2]+r[2]*h),!0)}const lt=l();function dt(t,e){return b(t,e,null)}function $t(t,e,n){if(b(t,e,n))return n;const o=Y(t,e,s.get());return S(n,e.origin,$(s.get(),e.direction,V(e.origin,o)/f(e.direction))),n}function Y(t,e,n){const o=s.get(),r=U.get();M(o,e.origin,e.direction);const i=R(t);M(n,o,e.origin),$(n,n,1/f(n)*i);const c=I(t,e.origin),u=ot(e.origin,n);return B(r,u+c,o),J(n,n,r),n}function pt(t,e,n){return b(t,e,n)?n:(tt(e,t,n),z(t,n,n))}function z(t,e,n){const o=g(s.get(),e,t),r=$(s.get(),o,t[3]/f(o));return S(n,r,t)}function mt(t,e){const n=g(s.get(),e,t),o=K(n),r=t[3]*t[3];return Math.sqrt(Math.abs(o-r))}function I(t,e){const n=g(s.get(),e,t),o=f(n),r=R(t),i=r+Math.abs(r-o);return C(r/i)}const q=l();function L(t,e,n,o){const r=g(q,e,t);switch(n){case d.X:{const i=w(r,q)[2];return O(o,-Math.sin(i),Math.cos(i),0)}case d.Y:{const i=w(r,q),c=i[1],u=i[2],p=Math.sin(c);return O(o,-p*Math.cos(u),-p*Math.sin(u),Math.cos(c))}case d.Z:return y(o,r);default:return}}function k(t,e){const n=g(x,e,t);return f(n)-t[3]}function Mt(t,e,n,o){const r=k(t,e),i=L(t,e,d.Z,x),c=$(x,i,n-r);return S(o,e,c)}function yt(t,e){const n=N(t,e),o=R(t);return n<=o*o}const x=l(),Pt=Z();Object.freeze(Object.defineProperty({__proto__:null,create:Z,copy:X,fromCenterAndRadius:it,wrap:ct,clear:st,fromRadius:ut,getRadius:R,getCenter:at,fromValues:ft,elevate:gt,setExtent:ht,intersectRay:b,intersectsRay:dt,intersectRayClosestSilhouette:$t,closestPointOnSilhouette:Y,closestPoint:pt,projectPoint:z,distanceToSilhouette:mt,angleToSilhouette:I,axisAt:L,altitudeAt:k,setAltitudeAt:Mt,containsPoint:yt,tmpSphere:Pt},Symbol.toStringTag,{value:"Module"}));export{ct as C,at as E,st as O,yt as Q,dt as X,Z as _,ot as a,E as d,xt as e,Ct as f,qt as h,Et as i,bt as j,R as k,At as l,d as n,_t as p,X as q};
