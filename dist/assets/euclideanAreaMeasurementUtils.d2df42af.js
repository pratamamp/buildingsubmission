import{mZ as $,w,at as R,aV as p,m_ as u,m$ as x,n0 as C,aq as F,mV as U,n1 as d,lJ as V,fH as W,aU as Z}from"./index.46140dee.js";import{a as k}from"./quantityUtils.c8da0946.js";import{i as q}from"./measurementUtils.f53ec32e.js";function K(o,r=y()){return j(o,r)}function S(o,r=y()){return j(o,r,!1)}function j(o,r,s=o.hasZ){const l=q(o.spatialReference),a=$(l);if(w(a))return null;const c=(e,n)=>!(n.length<2)&&(Z(e,n[0],n[1],s&&n[2]||0),!0);let g=0;for(const e of o.rings){if(e.length<3)continue;const{positionsWorldCoords:n}=r;for(;n.length<e.length;)n.push(R());const f=v;for(let t=0;t<3;t++)if(!c(f,e[t])||!p(f,o.spatialReference,n[t],l))return null;if(u(n[0],n[1])||u(n[0],n[2])||u(n[1],n[2]))continue;const h=x(n[0],n[1],n[2],C()),m=F(U.get(),n[0]);for(let t=0;t<3;t++)d(h,m,n[t],n[t]);for(let t=3;t<e.length;t++){if(!c(f,e[t]))return null;p(f,o.spatialReference,n[t],l),d(h,m,n[t],n[t])}const i=A(n);for(let t=0;t<i.length;t+=3)g+=V(n[i[t]],n[i[t+1]],n[i[t+2]])}return k(g,a)}const v=R();function y(){return{positionsWorldCoords:[]}}function A(o){return W(B(o),[],2)}function B(o){const r=new Float64Array(2*o.length);for(let s=0;s<o.length;++s){const l=o[s],a=2*s;r[a+0]=l[0],r[a+1]=l[1]}return r}export{y as d,K as h,S as j,A as v};
