import{w as s,b4 as n,s as o,g1 as f,e as r,g as a,n as m}from"./index.46140dee.js";import{n as p}from"./LayerView3D.66097b08.js";import{c as y}from"./TiledLayerView3D.aa88219f.js";import{u as d}from"./LayerView.4e67e454.js";import{i as u}from"./RefreshableLayerView.f56f8c7c.js";import{i as c}from"./TileLayerView.4d8f9d1c.js";let t=class extends u(y(c(p(d)))){constructor(){super(...arguments),this.type="tile-3d"}get imageFormatIsOpaque(){return this.layer.tileInfo.format==="jpg"}get hasMixedImageFormats(){return this.layer.tileInfo.format==="mixed"}get dataLevelRange(){if(this.tileInfo){const e=this.tileInfo.lods,i=e[0].scale,l=e[e.length-1].scale;return this.levelRangeFromScaleRange(i,l)}return{minLevel:0,maxLevel:0}}initialize(){if(this.layer.type==="web-tile"){const e=this.layer.get("fullExtent.spatialReference"),i=this.layer.get("tileInfo.spatialReference");if(s(e)||s(i)||!n(e,i)){const l=this.layer.originOf("fullExtent")==="defaults"||s(this.layer.fullExtent)?"SceneView requires fullExtent to be specified by the user on WebTileLayer":"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer";this.addResolvingPromise(Promise.reject(new o("layerview:incompatible-fullextent",l)))}}this._addTilingSchemeMatchPromise()}createFetchPopupFeaturesQueryGeometry(e,i){return f(e,i,this.view)}async doRefresh(){this.suspended||this.emit("data-changed")}};r([a({readOnly:!0})],t.prototype,"imageFormatIsOpaque",null),r([a({readOnly:!0})],t.prototype,"hasMixedImageFormats",null),r([a()],t.prototype,"layer",void 0),r([a({readOnly:!0,aliasOf:"layer.tileInfo"})],t.prototype,"tileInfo",void 0),r([a({readOnly:!0})],t.prototype,"dataLevelRange",null),t=r([m("esri.views.3d.layers.TileLayerView3D")],t);const b=t;export{b as default};
