import{a8 as N,r as p,j3 as ee,j4 as Ne,j5 as Be,A as M,a6 as Xe,g5 as Ye,g9 as Qe,g1 as Ke,g8 as Je,hw as ie,hr as ht,dm as ti,dn as ei,j6 as xe,b0 as Wt,gR as ii,ar as ni,ir as ai,fM as $e,t as v,j7 as ri,c6 as oi,j8 as si,cq as li,s as ci,$ as s,a2 as ut,j9 as G,bh as pi,ja as hi,a0 as h,a1 as b,Z as ui,I as Ut,jb as di,fE as L,cs as mi,eQ as gi,h as W,jc as dt,gt as we,d6 as Ht,jd as be,J as St,W as ne,a4 as Te,je as Me,jf as Se,dC as Oe,jg as Ot,cO as Ce,fD as fi,jh as vi,ji as yi,L as ct,jj as _i,jk as xi,jl as $i,jm as wi,jn as bi,jo as Ti,jp as Mi,jq as Si,jr as Oi,js as Ci,jt as Ei,ju as Vi,eL as ae,eM as Zt,jv as Ri,jw as vt,eN as f,R as Z,dy as lt,K as Ct,jx as Ii,gi as Pi,e5 as zi,jy as Di,jz as Li,jA as ki,jB as K,gn as yt,g4 as Gi,C as Ee,jC as ji,jD as Ai,bj as Fi,jE as Ve,jF as Wi,aP as Ui,du as qt,jG as Hi,jH as Re,ga as _t,jI as Nt,jJ as re,jK as Zi,jL as qi,e0 as Ni,jM as Ie,jN as Pe,gs as Bi,jO as Bt,jP as Xi,S as Yi,ab as oe,jQ as Qi}from"./index.52935b46.js";import{simplify as Ki,distance as Ji,geodesicArea as tn,geodesicLength as ze}from"./geometryEngine.938806be.js";import{Q as en,O as nn}from"./quat.122fba57.js";import{a as se}from"./quatf64.b60d4974.js";import{n as xt}from"./sphere.fe54e1ae.js";import{e as Et,x as an,S as rn,g as on,p as sn}from"./SnappingContext.6035d506.js";import{r as De}from"./drawUtils.b3864c8e.js";import{x as ln}from"./earcut.d30cbec0.js";import{j as cn,E as pn,K as le}from"./plane.1ed71234.js";import{S as hn}from"./triangle.4a12653d.js";import{c as un}from"./vectorStacks.a7af424f.js";import{v as Le}from"./dehydratedFeatures.5573332f.js";function ke(t,e){return!!dn(t.spatialReference,e.spatialReference)&&t.x===e.x&&t.y===e.y&&t.z===e.z&&t.m===e.m}function dn(t,e){return t===e||t&&e&&t.equals(e)}function pt(t,e,i=null){return p(i)?[t,e,i]:[t,e]}function _(t,e,i=null){return p(i)?{x:t,y:e,z:i}:{x:t,y:e}}class Ge{constructor(e){this.spatialReference=e}mapToLocalMultiple(e){return ht(e.map(i=>this.mapToLocal(i)))}get doUnnormalization(){return!1}}class mn extends Ge{constructor(e,i,n=null){super(i),this.defaultZ=n,this.transform=ee(),this.transformInv=ee(),this.transform=Ne(e),Be(this.transformInv,this.transform)}makeMapPoint(e,i){return pt(e,i,this.defaultZ)}mapToLocal(e){return _(this.transform[0]*e[0]+this.transform[2]*e[1]+this.transform[4],this.transform[1]*e[0]+this.transform[3]*e[1]+this.transform[5])}localToMap(e){return pt(this.transformInv[0]*e.x+this.transformInv[2]*e.y+this.transformInv[4],this.transformInv[1]*e.x+this.transformInv[3]*e.y+this.transformInv[5],this.defaultZ)}}class gn extends Ge{constructor(e,i){super(e.spatialReference),this.view=e,this.defaultZ=null,this.pWS=M(),this.tangentFrameUpWS=M(),this.tangentFrameRightWS=M(),this.tangentFrameForwardWS=M(),this.localFrameRightWS=M(),this.localFrameUpWS=M(),this.worldToLocalTransform=se(),this.localToWorldTransform=se(),this.scale=1,this.scale=e.resolution,this.referenceMapPoint=i,this.defaultZ=i.hasZ?i.z:null;const n=e.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,xt.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,xt.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,xt.Z,this.tangentFrameForwardWS);const a=M();Xe(a,this.tangentFrameForwardWS,Ye(n,this.tangentFrameForwardWS)),Qe(this.localFrameRightWS,n,a),Ke(this.localFrameRightWS,this.localFrameRightWS),Je(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),en(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),nn(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return this.view.viewingMode==="global"}makeMapPoint(e,i){return pt(e,i,this.defaultZ)}mapToLocal(e){const i=M();this.view.renderCoordsHelper.toRenderCoords(new N({x:e[0],y:e[1],spatialReference:this.spatialReference}),i),ie(i,i,this.worldToLocalTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(i,this.view.spatialReference);return p(n)?_(n.x/this.scale,n.y/this.scale):null}localToMap(e){const i=M();this.view.renderCoordsHelper.toRenderCoords(new N({x:e.x*this.scale,y:e.y*this.scale,spatialReference:this.spatialReference}),i),ie(i,i,this.localToWorldTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(i,this.view.spatialReference);return p(n)?pt(n.x,n.y,this.defaultZ):null}}function ce(t,e){if(t.type==="2d")return new mn(t.state.transform,t.spatialReference,e.length>2?e[2]:null);if(t.type==="3d"){const i=e.length>2?new N({x:e[0],y:e[1],z:e[2],spatialReference:t.spatialReference}):new N({x:e[0],y:e[1],spatialReference:t.spatialReference});return new gn(t,i)}return null}function pe(t,e){const i=new N({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(i.z=t[2]),i}function fn(t,e){return new ti({points:t,spatialReference:e})}function he(t,e,i){const n=new ei({paths:t,spatialReference:e});return i&&xe(n),n}function B(t,e,i,n=!0){const a=Wt(t);a.forEach(o=>{const c=o[0],l=o[o.length-1];ii(c,l)&&o.length!==1||o.push(o[0])});let r=new ni({rings:a,spatialReference:e});return r.rings.forEach(o=>{ai(o,!1,!1)||o.reverse()}),i&&xe(r),n&&r.isSelfIntersecting&&$e(e)&&(r=Ki(r)),r}function ue(t,e,i){const n=e.mapToLocalMultiple(t),a=[],r={x:n[0].x,y:n[0].y},o={x:n[1].x,y:n[1].y},c=Math.round(o.x-r.x),l=Math.round(o.y-r.y),d=Math.max(Math.abs(c),Math.abs(l));if(i){const g={x:r.x+d,y:r.y+d},y={x:r.x-d,y:r.y-d};a.push(_(g.x,y.y),_(y.x,y.y),_(y.x,g.y),_(g.x,g.y))}else{const g={x:c>0?r.x+d:r.x-d,y:l>0?r.y+d:r.y-d};a.push(_(r.x,r.y),_(g.x,r.y),_(g.x,g.y),_(r.x,g.y))}return B([ht(a.map(g=>e.localToMap(g)))],e.spatialReference,e.doUnnormalization,!0)}function vn(t,e,i){let n=e.mapToLocalMultiple(t);if(n.length===1){const l=n[0];n=[_(l.x-48,l.y+48),_(l.x+48,l.y-48),_(l.x+48,l.y-48),_(l.x-48,l.y+48)]}const a=[],r={x:n[0].x,y:n[0].y},o={x:n[1].x,y:n[1].y};if(i){const c=Math.round(o.x-r.x),l=Math.round(o.y-r.y);a.push(_(r.x-c,r.y-l),_(o.x,r.y-l),_(o.x,o.y),_(r.x-c,o.y))}else a.push(_(r.x,r.y),_(o.x,r.y),_(o.x,o.y),_(r.x,o.y));return B([ht(a.map(c=>e.localToMap(c)))],e.spatialReference,e.doUnnormalization,!0)}function de(t,e,i,n){const a=e.mapToLocalMultiple(t);let r=null,o=null;if(i)r=a[0],o=a[1];else{const $=a[0],R=a[1],z=Math.round(R.x-$.x),D=Math.round(R.y-$.y),I=Math.max(Math.abs(z),Math.abs(D));r=_(z>0?$.x+I/2:$.x-I/2,D>0?$.y+I/2:$.y-I/2),o=_(Math.abs(z)>Math.abs(D)?r.x-I/2:r.x,Math.abs(z)>Math.abs(D)?r.y:r.y-I/2)}const c=e.localToMap(r),l=e.localToMap(o);if(v(c)||v(l))return null;e.doUnnormalization&&ri([[c,l]],e.spatialReference);const d=pe(c,e.spatialReference),g=pe(l,e.spatialReference),y=oi(e.spatialReference);let u=0;if($e(e.spatialReference))u=y*Ji(d,g,null);else{const $=r.x-o.x,R=r.y-o.y;u=y*Math.sqrt($*$+R*R)*(n||1)}const m=new si({center:d,radius:u,radiusUnit:"meters",spatialReference:e.spatialReference});return B(m.rings,m.spatialReference,!1)}function yn(t,e,i){const n=e.mapToLocalMultiple(t),a=n[0],r=n[1],o=Math.round(r.x-a.x),c=Math.round(r.y-a.y),l=_(i?a.x:a.x+o/2,i?a.y:a.y+c/2),d=i?o:o/2,g=i?c:c/2,y=60,u=[],m=2*Math.PI/y;for(let $=0;$<y;$++){const R=Math.cos($*m),z=Math.sin($*m),D=_(d*R+l.x,g*z+l.y);u.push(D)}return u.push(u[0]),B([ht(u.map($=>e.localToMap($)))],e.spatialReference,e.doUnnormalization,!1)}var A;(function(t){t[t.WhenToolEditable=0]="WhenToolEditable",t[t.WhenToolNotEditable=1]="WhenToolNotEditable",t[t.Always=2]="Always"})(A||(A={}));class _n{constructor(){this._isToolEditable=!0,this._manipulators=new li,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(e){this._isToolEditable=e}get length(){return this._manipulators.length}add(e,i=A.WhenToolEditable){return this.addMany([e],i)[0]}addMany(e,i=A.WhenToolEditable){return e.map(n=>{const a=this._nextManipulatorId++,r={id:a,manipulator:n,visibilityPredicate:i,attached:!1};return this._manipulators.add(r),this._attached&&this._updateManipulatorAttachment(r),a})}remove(e){if(typeof e=="number"){const n=e;for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.getItemAt(a).id===n){const r=this._manipulators.splice(a,1)[0];return this._detachManipulator(r),r.id}return null}const i=e;for(let n=0;n<this._manipulators.length;n++)if(this._manipulators.getItemAt(n).manipulator===i){const a=this._manipulators.splice(n,1)[0];return this._detachManipulator(a),a.id}return null}removeAll(){this._manipulators.forEach(e=>{this._detachManipulator(e)}),this._manipulators.removeAll()}attach(){this._manipulators.forEach(e=>{this._updateManipulatorAttachment(e)}),this._attached=!0}detach(){this._manipulators.forEach(e=>{this._detachManipulator(e)}),this._attached=!1}destroy(){this._manipulators.forEach(({manipulator:e})=>{e.destroy&&e.destroy()}),this._manipulators.destroy(),this._resourceContexts=null}on(e,i){return this._manipulators.on(e,n=>{i(n)})}forEach(e){for(const i of this._manipulators.items)e(i)}some(e){return this._manipulators.items.some(e)}toArray(){const e=[];return this.forEach(i=>e.push(i.manipulator)),e}intersect(e,i){let n=null,a=Number.MAX_VALUE;return this._manipulators.forEach(({id:r,manipulator:o,attached:c})=>{if(!c||!o.interactive)return;const l=o.intersectionDistance(e,i);p(l)&&l<a&&(a=l,n={id:r,manipulator:o})}),n}findById(e){if(v(e))return null;for(const i of this._manipulators.items)if(e===i.id)return i.manipulator;return null}_updateManipulatorAttachment(e){this._isManipulatorItemVisible(e)?this._attachManipulator(e):this._detachManipulator(e)}_attachManipulator(e){e.attached||(e.manipulator.attach&&e.manipulator.attach(this._resourceContexts),e.attached=!0)}_detachManipulator(e){if(!e.attached)return;const i=e.manipulator;i.grabbing=!1,i.dragging=!1,i.hovering=!1,i.selected=!1,i.detach&&i.detach(this._resourceContexts),e.attached=!1}_isManipulatorItemVisible(e){return e.visibilityPredicate===A.Always||(this._isToolEditable?e.visibilityPredicate===A.WhenToolEditable:e.visibilityPredicate===A.WhenToolNotEditable)}}const xn=ci.getLogger("esri.views.interactive.InteractiveToolBase");let V=class extends ut{constructor(t){super(t),this.manipulators=new _n,this.preferManipulatorCursor=!1,this.automaticManipulatorSelection=!0,this.hasFocusedManipulators=!1,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[G.MANAGER,!0],[G.USER,!0]]),this._creationFinishedResolver=pi()}get active(){return this.view!=null&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(G.USER)}set editable(t){this.setEditableFlag(G.USER,t)}get updating(){return!1}get cursor(){return null}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){v(this.view)?xn.error("Can't activate tool if view is not defined."):(hi(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===G.USER&&this.notifyChange("editable"),this.onEditableChange()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreated(){return this._creationFinishedResolver.promise}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(G.USER)&&this.getEditableFlag(G.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.constructed){if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};s([h({constructOnly:!0})],V.prototype,"view",void 0),s([h({readOnly:!0})],V.prototype,"active",null),s([h({value:!0})],V.prototype,"visible",null),s([h({value:!0})],V.prototype,"editable",null),s([h({readOnly:!0})],V.prototype,"manipulators",void 0),s([h({readOnly:!0})],V.prototype,"updating",null),s([h()],V.prototype,"cursor",null),s([h({readOnly:!0})],V.prototype,"preferManipulatorCursor",void 0),s([h({readOnly:!0})],V.prototype,"automaticManipulatorSelection",void 0),s([h()],V.prototype,"hasFocusedManipulators",void 0),s([h({readOnly:!0})],V.prototype,"created",void 0),s([h({readOnly:!0})],V.prototype,"removeIncompleteOnCancel",void 0),V=s([b("esri.views.interactive.InteractiveToolBase")],V);let O=class extends ui(Ut.EventedMixin(V)){constructor(t){super(t),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new di({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on("vertex-add",t=>this.onVertexAdd(t)),this.drawOperation.on("vertex-remove",t=>this.onVertexRemove(t)),this.drawOperation.on("vertex-update",t=>this.onVertexUpdate(t)),this.drawOperation.on("cursor-update",t=>this.onCursorUpdate(t)),this.drawOperation.on("complete",t=>this.onComplete(t))]),this.finishToolCreation()}destroy(){this.drawOperation=L(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=L(this.internalGraphicsLayer),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),p(this._graphic)&&(this._graphic.symbol=t)}get updating(){var t,e;return(e=(t=this.drawOperation)==null?void 0:t.updating)!=null?e:!1}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(t){this._graphic=new mi({...this.graphicProperties,geometry:t,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange("graphic"),this.handles.add(gi(()=>{p(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=L(this._graphic))}),$t)}_destroyAllVisualisations(){this.handles.remove(k.outline),this.handles.remove(k.regularVertices),this.handles.remove(k.activeVertex),this.handles.remove($t)}_getCreateOperationGeometry(t={operationComplete:!1}){if(this.drawOperation==null||this.drawOperation.numVertices===0)return null;const e=this.drawOperation.stagedVertex,i=this.drawOperation.committedVertices,n=i.slice();p(e)&&n.push(this.drawOperation.coordinateHelper.pointToArray(e));const a=p(e)?this.drawOperation.coordinateHelper.pointToArray(e):i.splice(-1)[0],r={regularVertices:null,activeVertex:null,full:null,outline:null},o=n.length,c=this.view.spatialReference,l=this.view.type==="3d"&&this.view.viewingMode==="global";switch(this.geometryType){case"point":r.regularVertices=i,r.activeVertex=a,r.full=this.drawOperation.coordinateHelper.arrayToPoint(n[0]);break;case"multipoint":r.regularVertices=i,r.activeVertex=a,o>0&&(r.full=fn(n,c));break;case"polyline":r.regularVertices=i,r.activeVertex=a,o>0&&(r.full=he([n],c,l));break;case"polygon":r.regularVertices=i,r.activeVertex=a,o>0&&(r.full=B([n],c,l,!0));break;case"circle":if(o>0){const d=ce(this.view,n[0]);if(o===1&&t.operationComplete){const g=n[0],y=d.makeMapPoint(g[0]+me*this.view.resolution,g[1]);r.full=de([g,y],d,!0)}else o===2&&(r.full=this.forceUniformSize?de(n,d,this.centered):yn(n,d,this.centered))}break;case"rectangle":if(o>0){const d=ce(this.view,n[0]);if(o===1&&t.operationComplete){const g=n[0],y=d.makeMapPoint(g[0]+me*this.view.resolution,g[1]);r.full=ue([g,y],d,!0)}else o===2&&(r.full=this.forceUniformSize?ue(n,d,this.centered):vn(n,d,this.centered))}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":case"polygon":o>1&&(r.outline=he([n],c,l));break;case"circle":case"rectangle":p(r.full)&&r.full.type==="polygon"&&(r.outline=B(r.full.rings,c,l))}return r}initializeGraphic(t){return null}onComplete(t){this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const i=this._getCreateOperationGeometry({operationComplete:!0});p(i)&&(v(this._graphic)?this._createGraphic(i.full):this._graphic.geometry=i.full,e=W(this._graphic).clone())}this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(t){this._updateGraphic(),this.emit("vertex-add",t)}onVertexRemove(t){this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();v(t)?this._destroyAllVisualisations():(p(t.outline)?this.handles.add(this.onOutlineChanged(t.outline),k.outline):this.handles.remove(k.outline),p(t.regularVertices)?this.handles.add(this.onRegularVerticesChanged(t.regularVertices),k.regularVertices):this.handles.remove(k.regularVertices),p(t.activeVertex)?this.handles.add(this.onActiveVertexChanged(t.activeVertex),k.activeVertex):this.handles.remove(k.activeVertex),p(t.full)?v(this._graphic)?this._createGraphic(t.full):this._graphic.geometry=t.full:this.handles.remove($t))}};s([h({value:!0})],O.prototype,"centered",null),s([h({nonNullable:!0})],O.prototype,"defaultZ",void 0),s([h()],O.prototype,"drawOperation",void 0),s([h({value:!0})],O.prototype,"enabled",null),s([h({value:!0})],O.prototype,"forceUniformSize",null),s([h({constructOnly:!0})],O.prototype,"geometryType",void 0),s([h()],O.prototype,"graphic",null),s([h({constructOnly:!0})],O.prototype,"graphicProperties",void 0),s([h()],O.prototype,"graphicSymbol",null),s([h({constructOnly:!0})],O.prototype,"hasZ",void 0),s([h({constructOnly:!0})],O.prototype,"mode",void 0),s([h()],O.prototype,"snappingManager",void 0),s([h()],O.prototype,"snapToScene",void 0),s([h({readOnly:!0})],O.prototype,"type",void 0),s([h({readOnly:!0})],O.prototype,"updating",null),s([h({constructOnly:!0,nonNullable:!0})],O.prototype,"view",void 0),O=s([b("esri.views.draw.DrawGraphicTool")],O);const $t="create-operation-graphic",k={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function Xa(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";default:return null}}const me=48;function $n(t,e){return{type:dt(e),value:t,unit:e}}function E(t,e){return{type:dt(e),value:t,unit:e}}function tt(t,e){return{type:dt(e),value:t,unit:e}}function Ya(t,e,i="arithmetic"){return{type:dt(e),value:t,unit:e,rotationType:i}}function je(t,e){return $n(we(t.value,t.unit,e),e)}function Qa(t,e){return v(t)?e:v(e)||t.value>we(e.value,e.unit,t.unit)?t:e}const Ka=E(0,"meters"),Ae="click";class wn{constructor({grabbableForEvent:e}){this.events=new Ut,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(e,i){return 0}attach(){}detach(){}}function bn(t,e){let i=null,n=null;return a=>{if(a.action==="cancel")return void(p(n)&&(n.execute({action:"cancel"}),i=null,n=null));const r={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};a.action==="start"&&v(i)&&(i=new X,n=new X,e(t,i,n,a.pointerType,r)),p(i)&&i.execute(r),a.action==="end"&&p(i)&&(i=null,n=null)}}function wt(t,e){return t.events.on("drag",bn(t,e))}function Ja(t,e){const i=[t.x,t.y,t.z],n=e,a=[Math.cos(n),Math.sin(n)],r=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(r===0)return null;a[0]/=r,a[1]/=r;const o=c=>{const l=(c.x-i[0])*a[0]+(c.y-i[1])*a[1];c.x=i[0]+l*a[0],c.y=i[1]+l*a[1]};return c=>(o(c.mapStart),o(c.mapEnd),c)}function Tn(t,e){let i=null;return n=>{if(n.action==="start"&&(i=Mn(t,n.mapStart.spatialReference,e)),v(i))return null;const a=n.mapEnd.x-n.mapStart.x,r=n.mapEnd.y-n.mapStart.y,o=n.mapEnd.z-n.mapStart.z;return i.move(a,r,o),{...n,translationX:a,translationY:r,translationZ:o}}}function Fe(t,e){return v(t)?null:t.spatialReference.equals(e)?t.clone():Ht(t,e)}function Mn(t,e,i){const n=t.geometry;if(v(n))return null;if(n.type==="mesh")return Sn(t,n,e,i);const a=Fe(n,e),r=n.spatialReference;return v(a)?null:{move:(o,c,l)=>{const d=De(a.clone(),o,c,l);d.spatialReference.equals(r)?t.geometry=d:t.geometry=Ht(d,r)}}}function Sn(t,e,i,n){if(p(e.transform))return On(t,e,e.transform,i);if(!e.spatialReference.equals(i))return null;let a=0,r=0,o=0;return{move:(c,l,d)=>{const g=c-a,y=l-r,u=d-o;if(g||y||u){const m=new N(e.origin.x+g,e.origin.y+y,e.origin.z+u,e.origin.spatialReference);e.centerAt(m,{geographic:n===be.Global}),t.notifyGeometryChanged(),a=c,r=l,o=d}}}}function On(t,e,i,n){const a=Fe(i.getOriginPoint(e.spatialReference),n),r=e.spatialReference;return v(a)?null:{move:(o,c,l)=>{const d=De(a.clone(),o,c,l);if(d.spatialReference.equals(r))i.origin=St(d.x,d.y,d.z);else{const g=Ht(d,r);p(g)&&(i.origin=St(g.x,g.y,g.z))}t.notifyMeshTransformChanged(),t.notifyGeometryChanged()}}}function tr(t,e){const i=t.map(n=>W(Tn(n,e))).filter(n=>p(n));return n=>{const a=n.mapEnd.x-n.mapStart.x,r=n.mapEnd.y-n.mapStart.y,o=n.mapEnd.z-n.mapStart.z;return i.forEach(c=>c(n)),{...n,translationX:a,translationY:r,translationZ:o}}}function Cn(t,e){const i=new Map;for(const n of e)i.set(n,Wt(t[n]));return n=>(i.forEach((a,r)=>{t[r]=a}),n)}function En(t){return p(t.geometry)&&t.geometry.type==="mesh"?Vn(t,t.geometry):Cn(t,["geometry"])}function Vn(t,e){const i=p(e.transform)?e.transform.clone():null,n=e.vertexAttributes.clonePositional();return a=>(e.transform=i,e.vertexAttributes=n,t.notifyGeometryChanged(),a)}function er(t){const e=t.map(i=>W(En(i))).filter(i=>p(i));return i=>(e.forEach(n=>n(i)),i)}function ir(){let t=0,e=0,i=0;return n=>{n.action==="start"&&(t=n.mapStart.x,e=n.mapStart.y,i=n.mapStart.z);const a=n.mapEnd.x-t,r=n.mapEnd.y-e,o=n.mapEnd.z-i;return t=n.mapEnd.x,e=n.mapEnd.y,i=n.mapEnd.z,{...n,mapDeltaX:a,mapDeltaY:r,mapDeltaZ:o,mapDeltaSpatialReference:n.mapStart.spatialReference}}}function nr(){let t=0,e=0;return i=>{i.action==="start"&&(t=i.screenStart.x,e=i.screenStart.y);const n=i.screenEnd.x-t,a=i.screenEnd.y-e;return t=i.screenEnd.x,e=i.screenEnd.y,{...i,screenDeltaX:n,screenDeltaY:a}}}function ar(t,e){let i=null,n=0,a=0;return r=>{if(r.action==="start"&&(i=t.toScreen(e),i.x<0||i.x>t.width||i.y<0||i.y>t.height?i=null:(n=r.screenStart.x-i.x,a=r.screenStart.y-i.y)),i==null)return null;const o=ne(r.screenEnd.x-n,0,t.width),c=ne(r.screenEnd.y-a,0,t.height),l=Te(o,c);return r.screenStart=i,r.screenEnd=l,r}}class X{constructor(){this.execute=()=>{}}next(e,i=new X){return p(e)&&(this.execute=n=>{const a=e(n);p(a)&&i.execute(a)}),i}}class Rn{constructor(){this.next=new X}createSnapDragEventPipelineStep({predicate:e=()=>!0,cancel:i,snappingManager:n,snappingContext:a,updatingHandles:r}){if(v(n))return u=>u;let o=null,c=null;const l=()=>{o=Ot(o),n.doneSnapping(),p(c)&&c.frameTask.remove(),c=null};i.next(u=>(l(),u)),this.next=new X;const d=Ce(async({frameTask:u,point:m,context:$,event:R,dx:z,dy:D},I)=>{const et=await u.schedule(()=>n.snap(m,$,I),I);if(et.valid){let it=await u.schedule(()=>et.apply(),I);m!==g&&(it=n.update(g,$)),ke(it,y)||(R.mapEnd.x=it.x+z,R.mapEnd.y=it.y+D,this.next.execute(R))}});let g,y;return u=>{if(!e(u))return u;if(u.action==="start"){const m=n.view.type==="3d"?n.view.resourceController.scheduler.registerTask(Me.SNAPPING):Se;c={context:new Et({editGeometryOperations:a.editGeometryOperations,elevationInfo:a.elevationInfo,pointer:a.pointer,vertexHandle:p(u.info)?u.info.handle:null,excludeFeature:a.excludeFeature,visualizer:a.visualizer}),originalPos:p(u.snapOrigin)?a.coordinateHelper.vectorToDehydratedPoint(u.snapOrigin):u.mapStart,frameTask:m}}if(p(c)){const m=c.context.coordinateHelper.vectorToDehydratedPoint(c.context.coordinateHelper.arrayToVector([c.originalPos.x,c.originalPos.y,c.originalPos.z]));m.x+=u.mapEnd.x-u.mapStart.x,m.y+=u.mapEnd.y-u.mapStart.y;const $=u.mapStart.x-c.originalPos.x,R=u.mapStart.y-c.originalPos.y,z={...u,action:"update"},D=c.context,I=n.update(m,c.context);if(y=I,u.mapEnd.x=I.x+$,u.mapEnd.y=I.y+R,g=m,u.action!=="end"){const et=c.frameTask;p(o)||(o=new AbortController),r.addPromise(Oe(d({frameTask:et,event:z,context:D,point:m,dx:$,dy:R},o.signal)))}}return u.action==="end"&&l(),u}}}let Y=class extends ut{constructor(t){super(t),this.stagedPoint=null,this._abortController=null,this._snap=Ce(async(e,i,n,a)=>{const r=await this._frameTask.schedule(()=>i.snap(e,n,a),a);r.valid&&await this._frameTask.schedule(()=>{this.stagedPoint=r.apply(),e!==this._snapMapPoint&&(this.stagedPoint=i.update(this._snapMapPoint,n))},a)})}initialize(){var e,i;const t=this.view.type==="3d"?(i=(e=this.view)==null?void 0:e.resourceController)==null?void 0:i.scheduler:null;this._frameTask=p(t)?t.registerTask(Me.SNAPPING):Se}destroy(){this._abortController=Ot(this._abortController),this._frameTask=fi(this._frameTask)}async snap(t,e,i){return this.stagedPoint=e.update(t,i),this._snapMapPoint=t,v(this._abortController)&&(this._abortController=new AbortController),this._snap(t,e,i,this._abortController.signal)}abort(){this._abortController=Ot(this._abortController)}};s([h({constructOnly:!0})],Y.prototype,"view",void 0),s([h()],Y.prototype,"stagedPoint",void 0),Y=s([b("esri.views.interactive.snapping.SnappingOperation")],Y);let q=class extends ut{constructor(t){super(t)}};s([h()],q.prototype,"tooltipOptions",void 0),q=s([b("esri.views.interactive.tooltip.SketchTooltipInfo")],q);let Q=class extends q{constructor(t){super(t),this.type="draw-point"}};s([h()],Q.prototype,"type",void 0),s([h()],Q.prototype,"elevation",void 0),Q=s([b("esri.views.interactive.tooltip.DrawPointTooltipInfo")],Q);let U=class extends q{constructor(t){super(t),this.type="draw-polyline"}};s([h()],U.prototype,"type",void 0),s([h()],U.prototype,"elevation",void 0),s([h()],U.prototype,"totalLength",void 0),U=s([b("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],U);let H=class extends q{constructor(t){super(t),this.type="draw-polygon"}};s([h()],H.prototype,"type",void 0),s([h()],H.prototype,"elevation",void 0),s([h()],H.prototype,"area",void 0),H=s([b("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],H);const mt="esri-tooltip",w=`${mt}-content`;function Xt(t,e,i,n=2,a="abbr"){return _i(t,je(e,i).value,i,n,a)}function We(t,e,i,n=2,a="abbr"){return xi(t,je(e,i).value,i,n,a)}function In(t,e,i=2,n="abbr"){return $i(t,e.value,e.unit,i,n)}function Pn(t,e,i=2,n="abbr"){return wi(t,e.value,e.unit,i,n)}function zn(t,e,i=2,n="abbr"){return bi(t,e.value,e.unit,i,n)}function Dn(t,e,i=2,n="abbr"){return Ti(t,e.value,e.unit,i,n)}function Ln(t,e,i=2,n="abbr"){return Mi(t,e.value,e.unit,i,n)}function kn(t,e,i=2,n="abbr"){return Si(t,e.value,e.unit,i,n)}function Gn(t,e,i=2,n="abbr"){return Oi(t,e.value,e.unit,i,n)}function jn(t,e,i=2,n="abbr"){return Ci(t,e.value,e.unit,i,n)}function An(t,e,i=2,n="abbr"){return Ei(t,e.value,e.unit,i,n)}function Fn(t,e,i=2,n="abbr"){return Vi(t,e.value,e.unit,i,n)}function Ue(t,e,i){return vi(t.value,t.unit,t.rotationType,e,i)}function Wn(t,e,i){return yi(t.value,t.unit,t.rotationType,e,i)}function ge(t,e,i,n,a="abbr"){switch(n=ct(n,2),i){case"imperial":return kn(t,e,n,a);case"metric":return In(t,e,n,a);default:return Xt(t,e,i,n,a)}}function Un(t,e,i,n=2,a="abbr"){switch(i){case"imperial":return Gn(t,e,n,a);case"metric":return Pn(t,e,n,a);default:return We(t,e,i,n,a)}}function Hn(t,e,i,n=2,a="abbr"){switch(i){case"imperial":return jn(t,e,n,a);case"metric":return zn(t,e,n,a);default:return Xt(t,e,i,n,a)}}function Zn(t,e,i,n=2,a="abbr"){switch(i){case"imperial":return An(t,e,n,a);case"metric":return Dn(t,e,n,a);default:return We(t,e,i,n,a)}}function qn(t,e,i,n=2,a="abbr"){switch(i){case"imperial":return Fn(t,e,n,a);case"metric":return Ln(t,e,n,a);default:return Xt(t,e,i,n,a)}}let S=class extends Zt{constructor(){super(...arguments),this._messagesUnits=null,this._messagesTooltip=null}get _units(){const t=Ri(this.tooltip.view);return{length:t,verticalLength:t,area:t}}_formatScale(t){return vt(t,{style:"percent",maximumFractionDigits:0})}_formatRelativeOrientation(t){return vt(t,{maximumFractionDigits:2,minimumFractionDigits:2,signDisplay:"exceptZero"})}_formatLength(t,e,i){return ge(this._messagesUnits,t,ct(e,this._units.length),i)}_formatRelativeLength(t){return Un(this._messagesUnits,t,this._units.length)}_formatVerticalLength(t){return Hn(this._messagesUnits,t,this._units.verticalLength)}_formatRelativeVerticalLength(t){return Zn(this._messagesUnits,t,this._units.verticalLength)}_formatTotalLength(t){return ge(this._messagesUnits,t,this._units.length)}_formatArea(t){return qn(this._messagesUnits,t,this._units.area)}_formatPercentage(t){return vt(t.value,{style:"percent"})}};s([h()],S.prototype,"info",void 0),s([h()],S.prototype,"tooltip",void 0),s([h()],S.prototype,"_units",null),s([ae("esri/core/t9n/Units"),h()],S.prototype,"_messagesUnits",void 0),s([ae("esri/views/interactive/tooltip/t9n/Tooltip"),h()],S.prototype,"_messagesTooltip",void 0),S=s([b("esri.views.interactive.tooltip.content.TooltipContent")],S);const bt=`${mt}-field`,Tt={base:bt,title:`${bt}__title`,value:`${bt}__value`};let x=class extends Zt{render(){return f("div",{class:Tt.base},f("div",{class:Tt.title},this.title),f("div",{class:Tt.value},this.value))}};s([h()],x.prototype,"title",void 0),s([h()],x.prototype,"value",void 0),x=s([b("esri.views.interactive.tooltip.support.TooltipField")],x);const Nn={base:`${w} ${`${w}--draw-point`}`};let Vt=class extends S{render(){var i;const{elevation:t}=this.info,e=(i=this._messagesTooltip)==null?void 0:i.sketch;return f("div",{class:Nn.base},f(x,{title:e==null?void 0:e.elevation,value:this._formatVerticalLength(t)}))}};Vt=s([b("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],Vt);const Bn={base:`${w} ${`${w}--draw-polygon`}`};let Rt=class extends S{render(){var n;const{area:t,elevation:e}=this.info,i=(n=this._messagesTooltip)==null?void 0:n.sketch;return f("div",{class:Bn.base},f(x,{title:i==null?void 0:i.elevation,value:this._formatVerticalLength(e)}),f(x,{title:i==null?void 0:i.area,value:this._formatArea(t)}))}};Rt=s([b("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],Rt);const Xn={base:`${w} ${`${w}--draw-polyline`}`};let It=class extends S{render(){var n;const{elevation:t,totalLength:e}=this.info,i=(n=this._messagesTooltip)==null?void 0:n.sketch;return f("div",{class:Xn.base},f(x,{title:i==null?void 0:i.elevation,value:this._formatVerticalLength(t)}),f(x,{title:i==null?void 0:i.totalLength,value:this._formatLength(e)}))}};It=s([b("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],It);const Yn={base:`${w} ${`${w}--extent-rotate`}`};let Pt=class extends S{render(){var i;const{angle:t}=this.info,e=(i=this._messagesTooltip)==null?void 0:i.sketch;return f("div",{class:Yn.base},f(x,{title:e==null?void 0:e.rotation,value:this._formatRelativeOrientation(t)}))}};Pt=s([b("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],Pt);const Qn={base:`${mt}-value-by-value`};let F=class extends Zt{constructor(){super(...arguments),this.divider="\xD7"}render(){return f("div",{class:Qn.base},f("span",null,this.left),f("span",null,this.divider),f("span",null,this.right))}};s([h()],F.prototype,"left",void 0),s([h()],F.prototype,"divider",void 0),s([h()],F.prototype,"right",void 0),F=s([b("esri.views.interactive.tooltip.support.ValueByValue")],F);const Kn={base:`${w} ${`${w}--extent-scale`}`};let zt=class extends S{render(){var r;const{xScale:t,yScale:e,xSize:i,ySize:n}=this.info,a=(r=this._messagesTooltip)==null?void 0:r.sketch;return f("div",{class:Kn.base},f(x,{title:a==null?void 0:a.size,value:f(F,{left:this._formatLength(i),right:this._formatLength(n)})}),f(x,{title:a==null?void 0:a.scale,value:f(F,{left:this._formatScale(t),right:this._formatScale(e)})}))}};zt=s([b("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],zt);const Jn={base:`${w} ${`${w}--reshape-edge-offset`}`};let Dt=class extends S{render(){var i;const{distance:t}=this.info,e=(i=this._messagesTooltip)==null?void 0:i.sketch;return f("div",{class:Jn.base},f(x,{title:e==null?void 0:e.distance,value:this._formatRelativeLength(t)}))}};Dt=s([b("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],Dt);const ta={base:`${w} ${`${w}--reshape-move-graphic`}`};let Lt=class extends S{render(){var i;const{distance:t}=this.info,e=(i=this._messagesTooltip)==null?void 0:i.sketch;return f("div",{class:ta.base},f(x,{title:e==null?void 0:e.distance,value:this._formatLength(t)}))}};Lt=s([b("esri.views.interactive.tooltip.content.TooltipContentReshapeMoveGraphic")],Lt);const ea={base:`${w} ${`${w}--transform-absolute`}`};let kt=class extends S{render(){var d;const{orientation:t,orientationEnabled:e,orientationPrecision:i,rotationType:n,size:a,sizeEnabled:r,sizeUnit:o,sizePrecision:c}=this.info,l=(d=this._messagesTooltip)==null?void 0:d.sketch;return f("div",{class:ea.base},e&&f(x,{title:l==null?void 0:l.orientation,value:Ue(t,n,i)}),r&&f(x,{title:l==null?void 0:l.size,value:this._formatLength(a,o,c)}))}};kt=s([b("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],kt);const ia={base:`${w} ${`${w}--transform-rotate`}`};let Gt=class extends S{render(){var o;const{rotation:t,rotationPrecision:e,orientation:i,orientationPrecision:n,rotationType:a}=this.info,r=(o=this._messagesTooltip)==null?void 0:o.sketch;return f("div",{class:ia.base},f(x,{title:r==null?void 0:r.rotation,value:Wn(t,a,e)}),f(x,{title:r==null?void 0:r.orientation,value:Ue(i,a,n)}))}};Gt=s([b("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],Gt);const na={base:`${w} ${`${w}--transform-scale`}`};let jt=class extends S{render(){var r;const{scale:t,size:e,sizePrecision:i,sizeUnit:n}=this.info,a=(r=this._messagesTooltip)==null?void 0:r.sketch;return f("div",{class:na.base},f(x,{title:a==null?void 0:a.scale,value:this._formatPercentage(t)}),f(x,{title:a==null?void 0:a.size,value:this._formatLength(e,n,i)}))}};jt=s([b("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],jt);const aa={base:`${w} ${`${w}--translate-vertex`}`};let At=class extends S{render(){var r;const{area:t,distance:e,elevation:i,totalLength:n}=this.info,a=(r=this._messagesTooltip)==null?void 0:r.sketch;return f("div",{class:aa.base},f(x,{title:a==null?void 0:a.distance,value:this._formatLength(e)}),p(i)&&f(x,{title:a==null?void 0:a.elevation,value:this._formatVerticalLength(i)}),p(t)&&f(x,{title:a==null?void 0:a.area,value:this._formatArea(t)}),p(n)&&f(x,{title:a==null?void 0:a.totalLength,value:this._formatLength(n)}))}};At=s([b("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],At);const ra={base:`${w} ${`${w}--extent-move-z`}`};let Ft=class extends S{render(){var i;const{distance:t}=this.info,e=(i=this._messagesTooltip)==null?void 0:i.sketch;return f("div",{class:ra.base},f(x,{title:e==null?void 0:e.distance,value:this._formatRelativeVerticalLength(t)}))}};Ft=s([b("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Ft);function oa(t,e){if(v(e))return null;const i=document.createElement("div");switch(e.type){case"draw-point":return new Vt({tooltip:t,info:e,container:i});case"draw-polygon":return new Rt({tooltip:t,info:e,container:i});case"draw-polyline":return new It({tooltip:t,info:e,container:i});case"extent-rotate":return new Pt({tooltip:t,info:e,container:i});case"extent-scale":return new zt({tooltip:t,info:e,container:i});case"reshape-edge-offset":return new Dt({tooltip:t,info:e,container:i});case"transform-absolute":return new kt({tooltip:t,info:e,container:i});case"transform-rotate":return new Gt({tooltip:t,info:e,container:i});case"transform-scale":return new jt({tooltip:t,info:e,container:i});case"translate-graphic":return new Lt({tooltip:t,info:e,container:i});case"translate-vertex":return new At({tooltip:t,info:e,container:i});case"translate-z":return new Ft({tooltip:t,info:e,container:i})}}const sa={base:`${mt}`};let j=class extends ut{constructor(t){super(t),this.info=null,this._contentContainer=(()=>{const e=document.createElement("div");return e.classList.add(sa.base),e})(),this._contentWidget=null}initialize(){const t=this._contentContainer;this.own([Z(()=>{var e;return(e=this.view.overlay)==null?void 0:e.surface},e=>{t.remove(),Ct(e,i=>i.appendChild(t))},lt),Z(()=>this.info,(e,i)=>{p(this._contentWidget)&&p(e)&&p(i)&&e.type===i.type?this._contentWidget.info=e:(this._contentWidget=L(this._contentWidget),Ct(oa(this,e),n=>{this._contentWidget=n,t.appendChild(n.container)}))},lt),Z(()=>{var e;return{container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:(e=this.view.inputManager)==null?void 0:e.latestPointerLocation}},la,lt)])}destroy(){this._contentWidget=L(this._contentWidget),this._contentContainer.remove()}clear(){this.info=null}get test(){return{contentContainer:this._contentContainer}}};function la({container:t,contentWidget:e,screenPoint:i}){const{style:n}=t;if(p(i)&&p(e)){n.display="block";const a=Ii(t),r=`translate(${Math.round(i.x)+fe[0]*(a?-1:1)}px, ${Math.round(i.y)+fe[1]}px)`;n.transform=a?`translate(-100%, 0) ${r}`:r}else n.display="none"}s([h({nonNullable:!0})],j.prototype,"view",void 0),s([h()],j.prototype,"info",void 0),s([h()],j.prototype,"_contentContainer",void 0),s([h()],j.prototype,"_contentWidget",void 0),j=s([b("esri.views.interactive.tooltip.Tooltip")],j);const fe=[20,20];function Yt(t){const e=Pi(t),i=e===Di?Li:e;return zi(t,i)?i:t}function ca(t,e=gt()){return He(t,e)}function pa(t,e=gt()){return He(t,e,!1)}function He(t,e,i=t.hasZ){const n=Yt(t.spatialReference),a=ki(n);if(v(a))return null;const r=(c,l)=>!(l.length<2)&&(Ee(c,l[0],l[1],i&&l[2]||0),!0);let o=0;for(const c of t.rings){if(c.length<3)continue;const{positionsWorldCoords:l}=e;for(;l.length<c.length;)l.push(M());const d=ha;for(let m=0;m<3;m++)if(!r(d,c[m])||!K(d,t.spatialReference,l[m],n))return null;if(yt(l[0],l[1])||yt(l[0],l[2])||yt(l[1],l[2]))continue;const g=cn(l[0],l[1],l[2],pn()),y=Gi(un.get(),l[0]);for(let m=0;m<3;m++)le(g,y,l[m],l[m]);for(let m=3;m<c.length;m++){if(!r(d,c[m]))return null;K(d,t.spatialReference,l[m],n),le(g,y,l[m],l[m])}const u=ua(l);for(let m=0;m<u.length;m+=3)o+=hn(l[u[m]],l[u[m+1]],l[u[m+2]])}return tt(o,a)}const ha=M();function gt(){return{positionsWorldCoords:[]}}function ua(t){return ln(da(t),[],2)}function da(t){const e=new Float64Array(2*t.length);for(let i=0;i<t.length;++i){const n=t[i],a=2*i;e[a+0]=n[0],e[a+1]=n[1]}return e}function Qt(t,e,i,n,...a){return ji(t)&&Ai(t)?e.apply(void 0,a):Fi(t)?i.apply(void 0,a):n.apply(void 0,a)}function ma(t){const{spatialReference:e}=t;return Qt(e,ga,fa,va,t)}function ga(t){return tt(Math.abs(Ve([t],"square-meters")[0]),"square-meters")}function fa(t){try{return tt(Math.abs(tn(t,"square-meters")),"square-meters")}catch{return null}}function va(t){const e=[];return Wi(t,e)?tt(Math.abs(Ve([{type:"polygon",rings:e,spatialReference:Ui.WGS84}],"square-meters")[0]),"square-meters"):null}function ya(t,e,i=gt()){if(e){const n=ma(t);return p(n)?n:pa(t,i)}return ca(t,i)}function _a(t){return Ze(t,"direct")}function xa(t){return Ze(t,"horizontal")}function Ze(t,e){const{hasZ:i,spatialReference:n}=t,a=Yt(n);let r=0;const o=Re(a);if(v(o))return null;const c=e==="direct"?qe:J;for(const l of t.paths){if(l.length<2)continue;const d=l.length-1;for(let g=0;g<d;++g){const y=l[g];C[0]=y[0],C[1]=y[1],C[2]=i?y[2]:0;const u=l[g+1];P[0]=u[0],P[1]=u[1],P[2]=i?u[2]:0;const m=c(C,P,n);if(v(m))return null;r+=m.value}}return E(r,o)}function ve(t,e){const{spatialReference:i}=t;return qt(i,e.spatialReference)?(C[0]=t.x,C[1]=t.y,C[2]=t.hasZ?t.z:0,P[0]=e.x,P[1]=e.y,P[2]=e.hasZ?e.z:0,J(C,P,i)):null}function rr(t,e){const{spatialReference:i}=t;return qt(i,e.spatialReference)?(C[0]=t.x,C[1]=t.y,C[2]=t.hasZ?t.z:0,P[0]=e.x,P[1]=e.y,P[2]=e.hasZ?e.z:0,$a(C,P,i)):null}function or(t){return C[0]=t.x,C[1]=t.y,C[2]=t.hasZ?t.z:0,wa(C,t.spatialReference)}function qe(t,e,i){const n=Kt(t,e,i,"direct");return p(n)?E(n.direct,n.unit):null}function J(t,e,i){const n=Kt(t,e,i,"horizontal");return p(n)?E(n.horizontal,n.unit):null}function $a(t,e,i){const n=Kt(t,e,i,"vertical");return p(n)?E(n.verticalSigned,n.unit):null}function wa(t,e){const i=Hi(e);return p(i)?E(t[2],i):null}function Kt(t,e,i,n){const a=Yt(i),r=Re(a);if(v(r))return null;const o=e[2]-t[2];if(n==="vertical")return{verticalSigned:o,unit:r};if(!K(t,i,Mt,a)||!K(e,i,nt,a))return null;if(n==="direct")return{direct:_t(nt,Mt),unit:r};if(Ee(at,t[0],t[1],e[2]),!K(at,i,at,a))return null;const c=_t(at,nt);return n==="horizontal"?{horizontal:c,unit:r}:{direct:_t(nt,Mt),horizontal:c,vertical:Math.abs(o),unit:r}}const C=M(),P=M(),Mt=M(),nt=M(),at=M();function ba(t){const{spatialReference:e}=t;return Qt(e,Ca,Ea,Va,t)}function Ta(t,e){if(!qt(t.spatialReference,e.spatialReference))return null;const{spatialReference:i}=t;return rt[0]=t.x,rt[1]=t.y,rt[2]=t.hasZ?t.z:0,ot[0]=e.x,ot[1]=e.y,ot[2]=e.hasZ?e.z:0,Jt(rt,ot,i)}function Jt(t,e,i){return Qt(i,Ma,Sa,Oa,t,e,i)}function Ma(t,e,i){return E(Nt(te,t,e,i).distance,"meters")}function Sa(t,e,i){return E(ze(Ra(t,e,i),"meters"),"meters")}function Oa(t,e,i){return re(t,i,ye)&&re(e,i,_e)?E(Nt(te,ye,_e).distance,"meters"):null}function Ca(t){return E(Zi([t],"meters")[0],"meters")}function Ea(t){return E(ze(t,"meters"),"meters")}function Va(t){const e=[];if(!qi(t,e))return null;let i=0;for(const n of e){let a=0;for(let r=1;r<n.length;++r)a+=Nt(te,n[r-1],n[r]).distance;i+=a}return E(i,"meters")}function Ra(t,e,i){return{type:"polyline",spatialReference:i,paths:[[[...t],[...e]]]}}const te={distance:null},rt=M(),ot=M(),ye=M(),_e=M();function Ia(t,e){return ft(_a,ba,xa,e,t)}function Pa(t,e,i,n){return ft(qe,Jt,J,n,t,e,i)}function sr(t,e,i){return ft(ve,Ta,ve,i,t,e)}function lr(t,e,i,n){return ft(J,Jt,J,n,t,e,i)}function ft(t,e,i,n,...a){if(n==="on-the-ground"){const r=e.apply(void 0,a);return p(r)?r:i.apply(void 0,a)}return t.apply(void 0,a)}function za(t,e){var d,g,y;const i=u=>Ia(u,e),n=(u,m,$)=>Pa(u,m,$,e),a=i(t),r=(y=(g=t.paths[0])==null?void 0:g[((d=t.paths[0])==null?void 0:d.length)-1])!=null?y:null,{hasZ:o,spatialReference:c}=t,l=r?St(r[0],r[1],o?r[2]:0):null;return u=>{if(v(u)||v(a)||v(l))return a;st[0]=u.x,st[1]=u.y,st[2]=o?u.z:0;const m=n(l,st,c);return v(m)?a:E(a.value+m.value,a.unit)}}function Da(t,e){const i=gt(),n=a=>ya(a,e,i);return a=>{if(v(a)||t.rings.length<1||t.rings[0].length<2)return n(t);const r=t.clone();return r.rings[0].push([a.x,a.y]),n(r)}}const st=M();let T=class extends Ut.EventedMixin(Ni){constructor(t){super(t),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new Rn,this._tooltip=null,this._tooltipContext={calculateElevation:null,calculateTotalLength:null,calculateArea:null},this.isDraped=!0,this.labelOptions=new Ie,this.tooltipOptions=new Pe,this.snapToSceneEnabled=null,v(t.elevationInfo)&&(this.elevationInfo={mode:t.hasZ?"absolute-height":"on-the-ground",offset:0})}initialize(){const{geometryType:t,view:e}=this,{spatialReference:i}=e,n="viewingMode"in e.state?e.state.viewingMode:be.Local,a=t==="segment"||t==="multipoint"?"polyline":t;this.coordinateHelper=an(this.hasZ,this.hasM,i),this._editGeometryOperations=new rn(new on(a,this.coordinateHelper)),this._snappingOperation=new Y({view:e}),this.handles.add(Z(()=>this.stagedVertex,(o,c)=>{p(this._tooltip)&&(p(c)!==p(o)?this._tooltip.info=this._getTooltipInfo():this._updateTooltipInfo()),v(o)||this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(o)}],operation:"apply",type:"vertex-update"})},{sync:!0,equals:(o,c)=>Xi(o,c,ke)})),this._activeComponent=new sn(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const r=this.segmentLabels;p(r)&&(r.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([Z(()=>this.labelOptions.enabled,o=>{r.visible=o},lt),this.on("cursor-update",()=>{const o=this.stagedVertex;r.stagedVertex=p(o)?this.coordinateHelper.pointToVector(o):null})])),this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],o=>{const c=o.vertices.map(d=>({componentIndex:0,vertexIndex:d.index,coordinates:this.coordinateHelper.vectorToArray(d.pos)})),l=c.map(d=>d.coordinates);switch(o.type){case"vertex-add":this.emit(o.type,{...o,added:l,vertices:c});break;case"vertex-update":this.emit(o.type,{...o,updated:l,vertices:c});break;case"vertex-remove":this.emit(o.type,{...o,removed:l,vertices:c})}})),this._manipulator=new wn({grabbableForEvent:o=>this.drawingMode!=="click"||o.pointerType==="touch"&&this._snappingEnabled&&this._pointerDownStates.size===1}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=t!=="point",this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",o=>this._onImmediateClick(o)),this._manipulator.events.on("immediate-double-click",o=>this._onImmediateDoubleClick(o)),Z(()=>this.tooltipOptions.enabled,o=>{this._tooltip=o?new j({view:e,info:this._getTooltipInfo()}):L(this._tooltip)},Yi),this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],()=>Ct(this._tooltip,o=>{o.info=this._getTooltipInfo()}))])}destroy(){L(this.segmentLabels),L(this._snappingOperation),this._tooltip=L(this._tooltip),this._editGeometryOperations=L(this._editGeometryOperations)}get _snappingEnabled(){return p(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get _defaultElevation(){return E(this.defaultZ,"meters")}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map(t=>this.coordinateHelper.vectorToArray(t.pos))}set drawingMode(t){this._set("drawingMode",t!=null?t:Ae)}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return p(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get stagedVertex(){return this._snappingOperation.stagedPoint}set stagedVertex(t){this._snappingOperation.stagedPoint=Wt(t)}get updating(){return this.updatingHandles.updating}get vertices(){const t=this.committedVertices;return p(this.stagedVertex)&&t.push(this.coordinateHelper.pointToArray(this.stagedVertex)),t}get stagedOrLastVertex(){if(p(this.stagedVertex))return this.stagedVertex;const t=this._activeComponent.getLastVertex();return v(t)?null:this._editGeometryOperations.data.coordinateHelper.vectorToDehydratedPoint(t.pos)}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),p(this.stagedVertex)){const{stagedVertex:t}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}}complete(t){const e=t&&t.aborted||!1;this._snappingOperation.abort(),p(this.snappingManager)&&this.snappingManager.doneSnapping(),this.geometryType==="segment"||this.geometryType==="point"?this.commitStagedVertex():this.stagedVertex=null;const i=this.geometryType==="multipoint"&&this.numVertices===0||this.geometryType==="polyline"&&this.numVertices<2||this.geometryType==="polygon"&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||e)&&this.emit("complete",{vertices:this.vertices.map((n,a)=>({componentIndex:0,vertexIndex:a,coordinates:n})),aborted:e,type:"complete"})}onInputEvent(t){switch(t.type){case"pointer-down":this._pointerDownStates.add(t.pointerId);break;case"pointer-up":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case"pointer-move":return this._onPointerMove(t);case"hold":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){p(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(t){const e=this._activeComponent;if(this.geometryType==="polygon"&&e.vertices.length>2){if(this._vertexWithinPointerDistance(e.vertices[0].pos,t))return 0;if(this._vertexWithinPointerDistance(e.vertices[e.vertices.length-1].pos,t))return e.vertices.length-1}return null}_createManipulatorDragPipeline(t){switch(W(this.drawingMode)){case"click":return this._createManipulatorDragPipelineClick(t);case"freehand":return this._createManipulatorDragPipelineFreehand(t);case"hybrid":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return wt(t,(e,i,n,a)=>{const r=a==="touch"&&this._snappingEnabled;!this.isCompleted&&r&&(i.next(this._screenToMapDragEventStep()).next(o=>(o.action==="start"&&(this.stagedVertex=o.mapStart,(this.geometryType==="segment"||r&&this.numVertices===0)&&this.commitStagedVertex()),o)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>r,cancel:n,snappingManager:this.snappingManager,snappingContext:new Et({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:a,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(o=>(r&&(this.stagedVertex=o.mapEnd,o.action==="end"&&this.commitStagedVertex()),o)).next(o=>(o.action==="end"&&(this.geometryType!=="segment"&&this.geometryType!=="point"||this.complete()),o)),n.next(()=>{r&&p(this.snappingManager)&&this.snappingManager.doneSnapping()}))})}_createManipulatorDragPipelineFreehand(t){return wt(t,(e,i)=>{this.isCompleted||i.next(this._screenToMapDragEventStep()).next(n=>(n.action==="start"&&(v(this.stagedVertex)&&(this.stagedVertex=n.mapStart),this.geometryType==="segment"&&this.commitStagedVertex()),n)).next(n=>{switch(n.action){case"start":case"update":this.stagedVertex=n.mapEnd,this.geometryType!=="polygon"&&this.geometryType!=="polyline"||this.commitStagedVertex();break;case"end":this.complete()}return n})})}_createManipulatorDragPipelineHybrid(t){return wt(t,(e,i)=>{this.isCompleted||i.next(this._screenToMapDragEventStep()).next(n=>(n.action==="start"&&(v(this.stagedVertex)&&(this.stagedVertex=n.mapStart),this.commitStagedVertex()),n)).next(n=>{switch(n.action){case"start":case"update":this.stagedVertex=n.mapEnd,this.geometryType!=="polygon"&&this.geometryType!=="polyline"||this.commitStagedVertex();break;case"end":this.geometryType!=="segment"&&this.geometryType!=="point"||this.complete()}return n})})}_getDrawSurface(){if(v(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let t=this.defaultZ,e=!1;p(this.elevationInfo)&&this.elevationInfo.mode==="absolute-height"&&(e=!0),p(this.snapToSceneEnabled)&&(e=this.snapToSceneEnabled),p(this.elevationInfo)&&this.elevationInfo.mode==="on-the-ground"&&(e=!1);const i=this._activeComponent.vertices.length;return(this.geometryType==="segment"||this.geometryType==="polygon")&&i>0&&(t=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),e=!1),e?this.drawSurface:(this.elevationDrawSurface.defaultZ=t,this.elevationDrawSurface)}_mapToScreen(t){return this._getDrawSurface().mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),this.drawingMode==="click"&&t.pointerType==="touch"&&this._snappingEnabled&&(this.stagedVertex=t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(t.pointerType==="mouse"&&t.button===2||this._manipulator.dragging)return;const e=this._activeComponent,i=this._closeOnClickVertexIndex(t.screenPoint);if(p(i))return t.stopPropagation(),void this.complete();const n=this._screenToMap(t.screenPoint);if(p(n))switch(this.drawingMode){case"freehand":this.geometryType==="point"&&(p(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),this.complete());break;case"click":case"hybrid":this._snappingOperation.abort(),p(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),(this.geometryType==="point"||this.geometryType==="segment"&&e.vertices.length===2||this.geometryType==="segment"&&this.drawingMode==="hybrid"&&e.vertices.length===1)&&this.complete()}t.stopPropagation()}_onImmediateDoubleClick(t){this._manipulator.dragging||this.geometryType==="point"||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=Te(t.x,t.y);if(this._manipulator.dragging||this._pointerDownStates.has(t.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return void this._snappingOperation.abort();t.stopPropagation();const i=this._closeOnClickVertexIndex(e);if(p(i))return this._closeOnVertex(i),void this._snappingOperation.abort();const n=this._screenToMap(e);if(this._manipulator.cursor=p(n)?"crosshair":null,v(n))return void this._snappingOperation.abort();if(v(this.snappingManager))return this.stagedVertex=n,void this._snappingOperation.abort();const a=this.snappingManager,r=new Et({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t.pointerType,visualizer:this.snappingVisualizer});this.updatingHandles.addPromise(Oe(this._snappingOperation.snap(n,a,r)))}_closeOnVertex(t){this.stagedVertex=null;const e={componentIndex:0,vertexIndex:t,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[t].pos)};this.emit("cursor-update",{updated:null,vertices:[e],operation:"apply",type:"vertex-update"})}_screenToMap(t){return this._getDrawSurface().screenToMap(t)}_screenToMapDragEventStep(){let t=null;return e=>{if(e.action==="start"&&(t=this._screenToMap(e.screenStart)),v(t))return null;const i=this._screenToMap(e.screenEnd);return p(i)?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return!!p(n)&&La(n,e,25)}_calculateVertexTooltipElevation(t){const{tooltipOptions:e,view:i}=this;if(v(t)||i.type==="2d")return this._defaultElevation;const n=this.elevationInfo,a=e.elevation.mode,{spatialReference:r}=t,o=Bi(r),c=Bt(i,t,n,{mode:a,offset:0});return E(c*o,"meters")}_getTooltipInfo(){const{tooltipOptions:t,stagedOrLastVertex:e}=this;if(v(e))return null;this._tooltipContext.calculateElevation=n=>this._calculateVertexTooltipElevation(n);const i=this._elevationTooltipDetail(e);switch(this.geometryType){case"point":return new Q({tooltipOptions:t,elevation:i});case"polyline":return this._tooltipContext.calculateTotalLength=za(this._editGeometryOperations.data.geometry,this.isDraped?"on-the-ground":"absolute-height"),new U({tooltipOptions:t,elevation:i,totalLength:this._totalLengthTooltipDetail(e)});case"polygon":return this._tooltipContext.calculateArea=Da(this._editGeometryOperations.data.geometry,this.isDraped),new H({tooltipOptions:t,elevation:i,area:this._areaTooltipDetail(e)});default:return null}}_elevationTooltipDetail(t){return{mode:this.elevationInfo.mode,...W(this._tooltipContext.calculateElevation)(t)}}_totalLengthTooltipDetail(t){return{...ct(W(this._tooltipContext.calculateTotalLength)(t),E(0,"meters"))}}_areaTooltipDetail(t){return{...ct(W(this._tooltipContext.calculateArea)(t),tt(0,"square-meters"))}}_updateTooltipInfo(){const t=this._tooltip;if(v(t))return;const{stagedOrLastVertex:e}=this,i=this._elevationTooltipDetail(e);switch(this.geometryType){case"point":t.info.elevation=i;break;case"polyline":{const n=t.info;n.elevation=i,n.totalLength=this._totalLengthTooltipDetail(e);break}case"polygon":{const n=t.info;n.elevation=i,n.area=this._areaTooltipDetail(e);break}}}get test(){return{tooltip:this._tooltip}}};function La(t,e,i){const n=t.x-e.x,a=t.y-e.y;return n*n+a*a<=i}s([h()],T.prototype,"_defaultElevation",null),s([h()],T.prototype,"defaultZ",void 0),s([h()],T.prototype,"isDraped",void 0),s([h({value:Ae})],T.prototype,"drawingMode",null),s([h({constructOnly:!0})],T.prototype,"elevationDrawSurface",void 0),s([h({constructOnly:!0})],T.prototype,"elevationInfo",void 0),s([h({constructOnly:!0,type:Ie})],T.prototype,"labelOptions",void 0),s([h({constructOnly:!0,type:Pe})],T.prototype,"tooltipOptions",void 0),s([h({constructOnly:!0})],T.prototype,"geometryType",void 0),s([h({constructOnly:!0})],T.prototype,"hasM",void 0),s([h({constructOnly:!0})],T.prototype,"hasZ",void 0),s([h({constructOnly:!0})],T.prototype,"manipulators",void 0),s([h({constructOnly:!0})],T.prototype,"drawSurface",void 0),s([h({constructOnly:!0})],T.prototype,"segmentLabels",void 0),s([h({constructOnly:!0})],T.prototype,"snappingManager",void 0),s([h({constructOnly:!0})],T.prototype,"snappingVisualizer",void 0),s([h()],T.prototype,"snapToSceneEnabled",void 0),s([h()],T.prototype,"_snappingOperation",void 0),s([h()],T.prototype,"stagedVertex",null),s([h()],T.prototype,"updating",null),s([h({constructOnly:!0})],T.prototype,"view",void 0),T=s([b("esri.views.draw.DrawOperation")],T);class cr{constructor(e,i,n,a=null){this.elevationInfo=e,this.defaultZ=i,this.view=n,this.excludeGraphics=a}screenToMap(e){if(p(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(oe(e.x,e.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const i=this.view.sceneIntersectionHelper.intersectElevationFromScreen(oe(e.x,e.y),this.elevationInfo,0,this.excludeGraphics);return p(i)&&(i.z=void 0),i}mapToScreen(e){const i=Le(e.x,e.y,Bt(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(i)}}class pr{constructor(e,i,n=[]){this.view=e,this.elevationInfo=i,this.exclude=n}screenToMap(e){const i=this.view.toMap(e,{exclude:this.exclude});return p(i)&&(i.z=Qi(i,this.view,this.elevationInfo)),i}mapToScreen(e){let i=e;return p(this.elevationInfo)&&(i=Le(e.x,e.y,Bt(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(i)}}class hr{constructor(e){this.view=e,this.screenToMap=i=>e.toMap(i),this.mapToScreen=i=>e.toScreen(i)}}export{$a as A,ar as C,ir as D,T as F,Xa as G,er as M,tr as R,O as _,Pa as a,X as b,hr as c,Tn as d,Ja as e,nr as f,q as g,V as h,Rn as i,sr as j,rr as k,ya as l,j as m,pr as n,Ia as o,wt as p,Jt as q,cr as r,E as s,Ya as t,Qa as u,or as v,En as w,ge as x,Ka as y,lr as z};
