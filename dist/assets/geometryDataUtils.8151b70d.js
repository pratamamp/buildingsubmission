import{C as A,a6 as U,g0 as h,kN as M,A as z}from"./index.52935b46.js";import{w as N}from"./triangle.4a12653d.js";let w=(()=>{const t=new Uint32Array(131072);for(let n=0;n<t.length;++n)t[n]=n;return t})();const C=new Uint16Array([0]),p=(()=>{const t=new Uint16Array(65536);for(let n=0;n<t.length;++n)t[n]=n;return t})();function B(t){if(t===1)return C;if(t<p.length)return new Uint16Array(p.buffer,0,t);if(t>w.length){const n=Math.max(2*w.length,t);w=new Uint32Array(n);for(let r=0;r<w.length;r++)w[r]=r}return new Uint32Array(w.buffer,0,t)}function D(t){if(t===1)return new Uint16Array(C);if(t<p.length)return new Uint16Array(p.slice(0,t));if(t>w.length){const n=new Uint32Array(t);for(let r=0;r<n.length;r++)n[r]=r;return n}return new Uint32Array(w.slice(0,t))}function E(t,n,r){if(!t)return!1;const{size:f,data:l}=t;A(r,0,0,0),A(o,0,0,0);let a=0,c=0;for(let u=0;u<n.length-2;u+=3){const i=n[u+0]*f,m=n[u+1]*f,s=n[u+2]*f;A(e,l[i+0],l[i+1],l[i+2]),A(g,l[m+0],l[m+1],l[m+2]),A(d,l[s+0],l[s+1],l[s+2]);const y=N(e,g,d);y?(h(e,e,g),h(e,e,d),U(e,e,1/3*y),h(r,r,e),a+=y):(h(o,o,e),h(o,o,g),h(o,o,d),c+=3)}return(c!==0||a!==0)&&(a!==0?(U(r,r,1/a),!0):c!==0&&(U(r,o,1/c),!0))}function F(t,n,r){if(!t||!n)return!1;const{size:f,data:l}=t;A(r,0,0,0);let a=-1,c=0;for(let u=0;u<n.length;u++){const i=n[u]*f;a!==i&&(r[0]+=l[i+0],r[1]+=l[i+1],r[2]+=l[i+2],c++),a=i}return c>1&&U(r,r,1/c),c>0}function G(t,n,r,f){if(!t)return!1;const{size:l,data:a}=t;A(f,0,0,0),A(o,0,0,0);let c=0,u=0;const i=n?n.length-1:a.length/l-1,m=i+(r?2:0);for(let s=0;s<m;s+=2){const y=s<i?s:i,q=s<i?s+1:0,b=(n?n[y]:y)*l,x=(n?n[q]:q)*l;e[0]=a[b+0],e[1]=a[b+1],e[2]=a[b+2],g[0]=a[x+0],g[1]=a[x+1],g[2]=a[x+2],U(e,h(e,e,g),.5);const k=M(e,g);k>0?(h(f,f,U(e,e,k)),c+=k):(h(o,o,e),u++)}return c!==0?(U(f,f,1/c),!0):u!==0&&(U(f,o,1/u),!0)}const e=z(),g=z(),d=z(),o=z();export{D as a,F as g,G as h,B as l,E as u};
