import{e as o,g as l,n as d,I as r,Q as v,cL as p,dD as f,aT as h,aK as m,w as D}from"./index.ce207a0f.js";import{c as $}from"./InteractiveToolBase.0ab63d29.js";let n=class extends ${constructor(t){super(t)}initialize(){this.own(r(()=>this.analysisViewData.visible,t=>this.visible=t,v))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o([l({constructOnly:!0})],n.prototype,"analysis",void 0),o([l()],n.prototype,"analysisViewData",void 0),n=o([d("esri.views.interactive.AnalysisToolBase")],n);function b(t,i,a){const e=w(t,i);t.view.activeTool=e;let s=p(a,()=>c(t,i));return f(async y=>{await h(()=>!e.active,y),s=m(s),c(t,i)},a)}function x(t,i){return r(()=>t.interactive,()=>c(t,i),v)}function c(t,i){t.interactive?w(t,i):u(t)}function w(t,i){u(t);const{view:a,analysis:e}=t,s=new i({view:a,analysis:e,analysisViewData:t});return t.tool=s,a.tools.add(s),s}function u(t){const{view:i,tool:a}=t;D(a)||(i.tools.remove(a),t.tool=null)}export{n as a,x as c,u as m,b as s};
